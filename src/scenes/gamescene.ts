import { Canvas } from "../api/canvas";
import { InputManager } from "../api/inputmanager";
import { GameObject, GameObjectAnimated, ScrollingBackground } from "../api/object";
import { Scene } from "../api/scene";
import { Board } from "../game/board";

export class GameScene extends Scene {
    objects: Array<GameObject | ScrollingBackground>
    assets: {[index: string]: HTMLImageElement}
    canvas: Canvas

    board: Board
    grids: Object
    selectedColor: number

    constructor(canvas: Canvas, assets: {[index: string]: HTMLImageElement}) {
        super();

        this.canvas = canvas

        this.board = new Board()
        this.grids = {
            apple: {
                width: 11,
                height: 15,
                tiles: [
                    0,0,0,0,1,0,0,1,1,1,0,
                    0,0,0,0,1,0,1,1,1,0,0,
                    0,1,1,0,1,0,1,1,0,0,0,
                    1,1,1,1,0,1,0,0,0,0,0,
                    1,1,0,0,0,1,0,0,0,0,0,
                    1,0,0,1,1,0,1,1,1,0,0,
                    0,0,1,1,1,1,0,1,1,1,0,
                    0,1,1,1,1,1,0,1,1,1,1,
                    0,1,1,1,1,1,1,0,1,1,1,
                    0,1,1,1,1,1,1,0,1,1,1,
                    0,1,1,1,1,1,1,0,1,1,1,
                    0,1,1,1,1,1,0,1,1,1,1,
                    0,1,1,1,1,1,1,1,1,1,1,
                    0,0,1,1,1,1,1,1,1,1,0,
                    0,0,0,1,1,1,1,1,1,0,0

                ],
                colors: ['white','black'],
            },
            bird: {
                width: 15,
                height: 20,
                tiles: [
                    0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,
                    0,0,0,1,1,1,0,1,1,0,0,0,0,0,0,
                    0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,
                    0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,
                    0,0,0,0,0,1,1,1,1,0,1,0,0,0,0,
                    0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,
                    0,0,0,0,0,1,1,1,0,1,1,1,1,0,0,
                    0,0,0,0,0,1,1,1,0,1,1,1,1,1,0,
                    1,1,1,0,0,0,1,1,1,0,1,1,1,1,0,
                    0,0,0,1,0,0,0,1,1,1,0,0,1,1,1,
                    0,0,1,1,1,0,0,0,1,1,1,1,0,1,1,
                    0,1,0,1,1,1,0,0,1,1,1,1,1,0,1,
                    0,1,1,1,1,1,0,0,1,0,1,1,1,0,1,
                    0,1,1,1,1,1,0,1,1,0,1,0,1,1,1,
                    0,0,1,1,1,0,1,1,0,1,1,0,0,1,1,
                    0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,
                    0,0,1,1,1,1,0,1,1,0,0,0,0,0,1,
                    0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,
                    1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,
                    0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,

                ],
                colors: ['white','black'],
            },
            burger: {
                width: 18,
                height: 18,
                tiles: [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 3, 2, 2, 2, 2, 4, 2, 2, 2, 3, 1, 0, 0, 0, 0, 0, 1, 3, 2, 4, 2, 2, 2, 2, 2, 2, 2, 2, 3, 1, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 2, 2, 1, 0, 0, 0, 1, 2, 2, 2, 2, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0, 0, 1, 4, 2, 2, 2, 2, 2, 2, 2, 4, 2, 2, 2, 2, 4, 1, 0, 0, 1, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 1, 0, 1, 3, 2, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 2, 3, 1, 1, 5, 3, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 3, 5, 1, 1, 5, 5, 2, 3, 2, 4, 4, 4, 4, 4, 4, 2, 3, 2, 5, 5, 1, 1, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 1, 0, 1, 1, 1, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 1, 1, 1, 0, 0, 1, 2, 2, 1, 6, 6, 4, 4, 4, 4, 6, 6, 1, 2, 2, 1, 0, 0, 0, 1, 2, 2, 1, 1, 1, 4, 4, 1, 1, 1, 2, 2, 1, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 3, 3, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
                colors: ['white', 'rgb(108,14,28)', 'rgb(236,166,60)', 'rgb(188,106,44)', 'rgb(236,230,180)', 'rgb(132,242,108)', 'rgb(236,30,36)'],
            },
            butterfly: {
                width: 18,
                height: 16,
                tiles: [0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 3, 2, 1, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 3, 2, 1, 4, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 2, 3, 2, 2, 2, 3, 1, 4, 1, 0, 1, 0, 0, 0, 0, 0, 1, 2, 3, 2, 2, 2, 2, 3, 2, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 2, 3, 3, 3, 3, 2, 2, 2, 1, 5, 1, 1, 1, 0, 0, 0, 0, 1, 2, 3, 3, 4, 3, 3, 3, 2, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 3, 3, 3, 4, 3, 1, 5, 1, 0, 0, 0, 0, 0, 1, 2, 2, 2, 1, 0, 0, 3, 3, 0, 1, 5, 1, 0, 0, 0, 0, 0, 1, 3, 3, 3, 4, 1, 1, 0, 0, 1, 5, 1, 0, 0, 0, 0, 0, 0, 1, 2, 2, 3, 3, 2, 2, 1, 1, 5, 1, 0, 0, 0, 0, 0, 0, 1, 2, 3, 2, 2, 3, 2, 2, 2, 1, 5, 1, 0, 0, 0, 0, 0, 0, 1, 2, 3, 3, 3, 2, 3, 3, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                colors: ['white', 'rgb(108,14,28)', 'rgb(252,242,4)', 'rgb(252,202,12)', 'rgb(252,126,36)', 'rgb(236,86,60)']
            },
            card: {
                width: 11,
                height: 11,
                tiles: [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 2, 2, 2, 2, 1, 1, 1, 1, 0, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 0, 0, 1, 1, 2, 1, 2, 2, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0],
                colors: ['white', 'rgb(236,230,188)', 'rgb(0,37,36)']
            },
            dolphin: {
                width: 20,
                height: 20,
                tiles: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                colors: ['white', 'rgb(0,0,0)']
            },
            elephant: {
                width: 15,
                height: 14,
                tiles: [0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0],
                colors: ['white', 'rgb(0,0,0)']
            },
            fish: {
                width: 15,
                height: 12,
                tiles: [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
                colors: ['white', 'rgb(0,0,0)']
            },
            kettle: {
                width: 16,
                height: 10,
                tiles: [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0],
                colors: ['white', 'rgb(0,0,0)']
            },
            panther: {
                width: 20,
                height: 20,
                tiles: [0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                colors: ['white', 'rgb(0,0,0)']
            },
            pizza: {
                width: 7,
                height: 10,
                tiles: [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0],
                colors: ['white', 'rgb(0,0,0)']
            },
            seahorse: {
                width: 16,
                height: 22,
                tiles: [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
                colors: ['white', 'rgb(0,0,0)']
            },
            lily: {
                width: 15,
                height: 16,
                tiles: [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 3, 3, 0, 2, 0, 3, 3, 1, 1, 0, 0, 0, 1, 0, 3, 2, 3, 3, 2, 3, 3, 2, 3, 0, 1, 0, 0, 4, 1, 0, 3, 2, 2, 2, 2, 2, 3, 0, 1, 4, 0, 4, 5, 1, 1, 2, 2, 2, 3, 2, 2, 2, 1, 5, 5, 4, 4, 5, 1, 0, 3, 1, 3, 0, 3, 1, 3, 0, 1, 5, 4, 4, 5, 6, 1, 1, 6, 1, 1, 1, 6, 1, 1, 5, 5, 4, 4, 5, 6, 6, 6, 6, 4, 4, 4, 6, 6, 5, 5, 5, 4, 4, 6, 5, 6, 6, 4, 6, 6, 4, 6, 6, 6, 6, 6, 4, 0, 4, 5, 6, 6, 6, 6, 6, 6, 6, 4, 4, 4, 4, 0, 0, 4, 6, 5, 5, 6, 6, 6, 6, 6, 4, 0, 0, 0, 0, 0, 0, 4, 6, 6, 5, 5, 5, 5, 5, 4, 0, 0, 0, 0, 0, 0, 0, 4, 4, 6, 6, 6, 6, 6, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0],
                colors: ['white', 'rgb(108,14,28)', 'rgb(204,66,124)', 'rgb(228,166,196)', 'rgb(20,142,44)', 'rgb(228,246,100)', 'rgb(132,242,108)']
            }
        }
        this.board.generateBoard(this.grids['apple'].width, this.grids['apple'].height, this.grids['apple'].colors, this.grids['apple'].tiles)

        this.objects = []
        this.assets = assets
    }

    setGame(name: string) {
        if (this.board.state == 1) {document.getElementById('wingif').style.opacity = '0'}
        this.board.generateBoard(this.grids[name].width, this.grids[name].height, this.grids[name].colors, this.grids[name].tiles)
    }

    render(canvas: Canvas) {
        this.objects.forEach((object) => {
            object.render(canvas.ctx, Math.floor(this.timeActive/20))
        })

        this.board.render(canvas)
    }

    update(deltaTime: number) {
        super.update(deltaTime)

        this.objects.forEach((object) => {
            object.update(deltaTime)
        })
    }

    updateInput(inputManager: InputManager) {
        super.updateInput(inputManager);

        if (inputManager.leftClicked && this.board.state == 0) {
            this.board.placeTile(inputManager.mousePos, 0)
        }
        if (inputManager.rightClicked && this.board.state == 0) {
            this.board.placeTile(inputManager.mousePos, 1)
        }

        if (this.board.state == 1) {document.getElementById('wingif').style.opacity = '1'}

        this.canvas.ctx.fillStyle = 'red'
        this.canvas.ctx.fillRect(inputManager.mousePos[0], inputManager.mousePos[1], 2, 2)
    }
}